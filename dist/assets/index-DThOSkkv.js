(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var j,p,ot,G,Re,it,te={},st=[],Tt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function I(e,t){for(var n in t)e[n]=t[n];return e}function rt(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,t,n){var o,s,i,a={};for(i in t)i=="key"?o=t[i]:i=="ref"?s=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?j.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)a[i]===void 0&&(a[i]=e.defaultProps[i]);return F(e,a,o,s,null)}function F(e,t,n,o,s){var i={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++ot};return s==null&&p.vnode!=null&&p.vnode(i),i}function q(e){return e.children}function P(e,t){this.props=e,this.context=t}function D(e,t){if(t==null)return e.__?D(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?D(e):null}function at(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return at(e)}}function le(e){(!e.__d&&(e.__d=!0)&&G.push(e)&&!ne.__r++||Re!==p.debounceRendering)&&((Re=p.debounceRendering)||setTimeout)(ne)}function ne(){for(var e;ne.__r=G.length;)e=G.sort(function(t,n){return t.__v.__b-n.__v.__b}),G=[],e.some(function(t){var n,o,s,i,a,l;t.__d&&(a=(i=(n=t).__v).__e,(l=n.__P)&&(o=[],(s=I({},i)).__v=i.__v+1,ye(l,i,s,n.__n,l.ownerSVGElement!==void 0,i.__h!=null?[a]:null,o,a??D(i),i.__h),dt(o,i),i.__e!=a&&at(i)))})}function ct(e,t,n,o,s,i,a,l,u,h){var r,f,d,c,_,C,g,y=o&&o.__k||st,v=y.length;for(n.__k=[],r=0;r<t.length;r++)if((c=n.__k[r]=(c=t[r])==null||typeof c=="boolean"?null:typeof c=="string"||typeof c=="number"||typeof c=="bigint"?F(null,c,null,null,c):Array.isArray(c)?F(q,{children:c},null,null,null):c.__b>0?F(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c)!=null){if(c.__=n,c.__b=n.__b+1,(d=y[r])===null||d&&c.key==d.key&&c.type===d.type)y[r]=void 0;else for(f=0;f<v;f++){if((d=y[f])&&c.key==d.key&&c.type===d.type){y[f]=void 0;break}d=null}ye(e,c,d=d||te,s,i,a,l,u,h),_=c.__e,(f=c.ref)&&d.ref!=f&&(g||(g=[]),d.ref&&g.push(d.ref,null,c),g.push(f,c.__c||_,c)),_!=null?(C==null&&(C=_),typeof c.type=="function"&&c.__k===d.__k?c.__d=u=lt(c,u,e):u=ut(e,c,d,y,_,u),typeof n.type=="function"&&(n.__d=u)):u&&d.__e==u&&u.parentNode!=e&&(u=D(d))}for(n.__e=C,r=v;r--;)y[r]!=null&&(typeof n.type=="function"&&y[r].__e!=null&&y[r].__e==n.__d&&(n.__d=D(o,r+1)),ht(y[r],y[r]));if(g)for(r=0;r<g.length;r++)_t(g[r],g[++r],g[++r])}function lt(e,t,n){for(var o,s=e.__k,i=0;s&&i<s.length;i++)(o=s[i])&&(o.__=e,t=typeof o.type=="function"?lt(o,t,n):ut(n,o,o,s,o.__e,t));return t}function ue(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(n){ue(n,t)}):t.push(e)),t}function ut(e,t,n,o,s,i){var a,l,u;if(t.__d!==void 0)a=t.__d,t.__d=void 0;else if(n==null||s!=i||s.parentNode==null)e:if(i==null||i.parentNode!==e)e.appendChild(s),a=null;else{for(l=i,u=0;(l=l.nextSibling)&&u<o.length;u+=2)if(l==s)break e;e.insertBefore(s,i),a=i}return a!==void 0?a:s.nextSibling}function Ot(e,t,n,o,s){var i;for(i in n)i==="children"||i==="key"||i in t||oe(e,i,null,n[i],o);for(i in t)s&&typeof t[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===t[i]||oe(e,i,t[i],n[i],o)}function Te(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=n==null?"":typeof n!="number"||Tt.test(t)?n:n+"px"}function oe(e,t,n,o,s){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||Te(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||Te(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?o||e.addEventListener(t,i?Ie:Oe,i):e.removeEventListener(t,i?Ie:Oe,i);else if(t!=="dangerouslySetInnerHTML"){if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,n):e.removeAttribute(t))}}function Oe(e){this.l[e.type+!1](p.event?p.event(e):e)}function Ie(e){this.l[e.type+!0](p.event?p.event(e):e)}function ye(e,t,n,o,s,i,a,l,u){var h,r,f,d,c,_,C,g,y,v,T,Se,Y,R=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,l=t.__e=n.__e,t.__h=null,i=[l]),(h=p.__b)&&h(t);try{e:if(typeof R=="function"){if(g=t.props,y=(h=R.contextType)&&o[h.__c],v=h?y?y.props.value:h.__:o,n.__c?C=(r=t.__c=n.__c).__=r.__E:("prototype"in R&&R.prototype.render?t.__c=r=new R(g,v):(t.__c=r=new P(g,v),r.constructor=R,r.render=kt),y&&y.sub(r),r.props=g,r.state||(r.state={}),r.context=v,r.__n=o,f=r.__d=!0,r.__h=[]),r.__s==null&&(r.__s=r.state),R.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=I({},r.__s)),I(r.__s,R.getDerivedStateFromProps(g,r.__s))),d=r.props,c=r.state,f)R.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(R.getDerivedStateFromProps==null&&g!==d&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(g,v),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(g,r.__s,v)===!1||t.__v===n.__v){r.props=g,r.state=r.__s,t.__v!==n.__v&&(r.__d=!1),r.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(W){W&&(W.__=t)}),r.__h.length&&a.push(r);break e}r.componentWillUpdate!=null&&r.componentWillUpdate(g,r.__s,v),r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(d,c,_)})}if(r.context=v,r.props=g,r.__v=t,r.__P=e,T=p.__r,Se=0,"prototype"in R&&R.prototype.render)r.state=r.__s,r.__d=!1,T&&T(t),h=r.render(r.props,r.state,r.context);else do r.__d=!1,T&&T(t),h=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++Se<25);r.state=r.__s,r.getChildContext!=null&&(o=I(I({},o),r.getChildContext())),f||r.getSnapshotBeforeUpdate==null||(_=r.getSnapshotBeforeUpdate(d,c)),Y=h!=null&&h.type===q&&h.key==null?h.props.children:h,ct(e,Array.isArray(Y)?Y:[Y],t,n,o,s,i,a,l,u),r.base=t.__e,t.__h=null,r.__h.length&&a.push(r),C&&(r.__E=r.__=null),r.__e=!1}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=It(n.__e,t,n,o,s,i,a,u);(h=p.diffed)&&h(t)}catch(W){t.__v=null,(u||i!=null)&&(t.__e=l,t.__h=!!u,i[i.indexOf(l)]=null),p.__e(W,t,n)}}function dt(e,t){p.__c&&p.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(o){o.call(n)})}catch(o){p.__e(o,n.__v)}})}function It(e,t,n,o,s,i,a,l){var u,h,r,f=n.props,d=t.props,c=t.type,_=0;if(c==="svg"&&(s=!0),i!=null){for(;_<i.length;_++)if((u=i[_])&&"setAttribute"in u==!!c&&(c?u.localName===c:u.nodeType===3)){e=u,i[_]=null;break}}if(e==null){if(c===null)return document.createTextNode(d);e=s?document.createElementNS("http://www.w3.org/2000/svg",c):document.createElement(c,d.is&&d),i=null,l=!1}if(c===null)f===d||l&&e.data===d||(e.data=d);else{if(i=i&&j.call(e.childNodes),h=(f=n.props||te).dangerouslySetInnerHTML,r=d.dangerouslySetInnerHTML,!l){if(i!=null)for(f={},_=0;_<e.attributes.length;_++)f[e.attributes[_].name]=e.attributes[_].value;(r||h)&&(r&&(h&&r.__html==h.__html||r.__html===e.innerHTML)||(e.innerHTML=r&&r.__html||""))}if(Ot(e,d,f,s,l),r)t.__k=[];else if(_=t.props.children,ct(e,Array.isArray(_)?_:[_],t,n,o,s&&c!=="foreignObject",i,a,i?i[0]:n.__k&&D(n,0),l),i!=null)for(_=i.length;_--;)i[_]!=null&&rt(i[_]);l||("value"in d&&(_=d.value)!==void 0&&(_!==e.value||c==="progress"&&!_||c==="option"&&_!==f.value)&&oe(e,"value",_,f.value,!1),"checked"in d&&(_=d.checked)!==void 0&&_!==e.checked&&oe(e,"checked",_,f.checked,!1))}return e}function _t(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(o){p.__e(o,n)}}function ht(e,t,n){var o,s;if(p.unmount&&p.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||_t(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(i){p.__e(i,t)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(s=0;s<o.length;s++)o[s]&&ht(o[s],t,typeof e.type!="function");n||e.__e==null||rt(e.__e),e.__=e.__e=e.__d=void 0}function kt(e,t,n){return this.constructor(e,n)}function xt(e,t,n){var o,s,i;p.__&&p.__(e,t),s=(o=typeof n=="function")?null:t.__k,i=[],ye(t,e=(!o&&n||t).__k=m(q,null,[e]),s||te,te,t.ownerSVGElement!==void 0,!o&&n?[n]:s?null:t.firstChild?j.call(t.childNodes):null,i,!o&&n?n:s?s.__e:t.firstChild,o),dt(i,e)}function Nt(e,t,n){var o,s,i,a=I({},e.props);for(i in t)i=="key"?o=t[i]:i=="ref"?s=t[i]:a[i]=t[i];return arguments.length>2&&(a.children=arguments.length>3?j.call(arguments,2):n),F(e.type,a,o||e.key,s||e.ref,null)}function bt(e,t){var n={__c:t="__cC"+it++,__:e,Consumer:function(o,s){return o.children(s)},Provider:function(o){var s,i;return this.getChildContext||(s=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&s.some(le)},this.sub=function(a){s.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){s.splice(s.indexOf(a),1),l&&l.call(a)}}),o.children}};return n.Provider.__=n.Consumer.contextType=n}j=st.slice,p={__e:function(e,t,n,o){for(var s,i,a;t=t.__;)if((s=t.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(e)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,o||{}),a=s.__d),a)return s.__E=s}catch(l){e=l}throw e}},ot=0,P.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=I({},this.state),typeof e=="function"&&(e=e(I({},n),this.props)),e&&I(n,e),e!=null&&this.__v&&(t&&this.__h.push(t),le(this))},P.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),le(this))},P.prototype.render=q,G=[],ne.__r=0,it=0;var se,E,re,ke,ie=0,ft=[],J=[],xe=p.__b,Ne=p.__r,be=p.diffed,we=p.__c,Le=p.unmount;function Ee(e,t){p.__h&&p.__h(E,e,ie||t),ie=0;var n=E.__H||(E.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:J}),n.__[e]}function O(e){return ie=1,wt(mt,e)}function wt(e,t,n){var o=Ee(se++,2);if(o.t=e,!o.__c&&(o.__=[mt(void 0,t),function(i){var a=o.__N?o.__N[0]:o.__[0],l=o.t(a,i);a!==l&&(o.__N=[l,o.__[1]],o.__c.setState({}))}],o.__c=E,!E.u)){E.u=!0;var s=E.shouldComponentUpdate;E.shouldComponentUpdate=function(i,a,l){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(r){return r.__c});if(u.every(function(r){return!r.__N}))return!s||s.call(this,i,a,l);var h=!1;return u.forEach(function(r){if(r.__N){var f=r.__[0];r.__=r.__N,r.__N=void 0,f!==r.__[0]&&(h=!0)}}),!!h&&(!s||s.call(this,i,a,l))}}return o.__N||o.__}function M(e,t){var n=Ee(se++,3);!p.__s&&pt(n.__H,t)&&(n.__=e,n.i=t,E.__H.__h.push(n))}function de(e){return ie=5,Lt(function(){return{current:e}},[])}function Lt(e,t){var n=Ee(se++,7);return pt(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Mt(){for(var e;e=ft.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(X),e.__H.__h.forEach(_e),e.__H.__h=[]}catch(t){e.__H.__h=[],p.__e(t,e.__v)}}p.__b=function(e){typeof e.type!="function"||e.o||e.type===q?e.o||(e.o=e.__&&e.__.o?e.__.o:""):e.o=(e.__&&e.__.o?e.__.o:"")+(e.__&&e.__.__k?e.__.__k.indexOf(e):0),E=null,xe&&xe(e)},p.__r=function(e){Ne&&Ne(e),se=0;var t=(E=e.__c).__H;t&&(re===E?(t.__h=[],E.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=J,n.__N=n.i=void 0})):(t.__h.forEach(X),t.__h.forEach(_e),t.__h=[])),re=E},p.diffed=function(e){be&&be(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(ft.push(t)!==1&&ke===p.requestAnimationFrame||((ke=p.requestAnimationFrame)||Ut)(Mt)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==J&&(n.__=n.__V),n.i=void 0,n.__V=J})),re=E=null},p.__c=function(e,t){t.some(function(n){try{n.__h.forEach(X),n.__h=n.__h.filter(function(o){return!o.__||_e(o)})}catch(o){t.some(function(s){s.__h&&(s.__h=[])}),t=[],p.__e(o,n.__v)}}),we&&we(e,t)},p.unmount=function(e){Le&&Le(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{X(o)}catch(s){t=s}}),n.__H=void 0,t&&p.__e(t,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ut(e){var t,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);Me&&(t=requestAnimationFrame(n))}function X(e){var t=E,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),E=t}function _e(e){var t=E;e.__c=e.__(),E=t}function pt(e,t){return!e||e.length!==t.length||t.some(function(n,o){return n!==e[o]})}function mt(e,t){return typeof t=="function"?t(e):t}var $t={};function H(e,t){for(var n in t)e[n]=t[n];return e}function Dt(e,t,n){var o,s=/(?:\?([^#]*))?(#.*)?$/,i=e.match(s),a={};if(i&&i[1])for(var l=i[1].split("&"),u=0;u<l.length;u++){var h=l[u].split("=");a[decodeURIComponent(h[0])]=decodeURIComponent(h.slice(1).join("="))}e=he(e.replace(s,"")),t=he(t||"");for(var r=Math.max(e.length,t.length),f=0;f<r;f++)if(t[f]&&t[f].charAt(0)===":"){var d=t[f].replace(/(^:|[+*?]+$)/g,""),c=(t[f].match(/[+*?]+$/)||$t)[0]||"",_=~c.indexOf("+"),C=~c.indexOf("*"),g=e[f]||"";if(!g&&!C&&(c.indexOf("?")<0||_)){o=!1;break}if(a[d]=decodeURIComponent(g),_||C){a[d]=e.slice(f).map(decodeURIComponent).join("/");break}}else if(t[f]!==e[f]){o=!1;break}return(n.default===!0||o!==!1)&&a}function Ht(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function Gt(e,t){return e.index=t,e.rank=function(n){return n.props.default?0:he(n.props.path).map(Ft).join("")}(e),e.props}function he(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function Ft(e){return e.charAt(0)==":"?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var Pt={},x=[],Ue=[],S=null,gt={url:Ce()},Kt=bt(gt);function Ce(){var e;return""+((e=S&&S.location?S.location:S&&S.getCurrentLocation?S.getCurrentLocation():typeof location<"u"?location:Pt).pathname||"")+(e.search||"")}function Bt(e,t){return t===void 0&&(t=!1),typeof e!="string"&&e.url&&(t=e.replace,e=e.url),function(n){for(var o=x.length;o--;)if(x[o].canRoute(n))return!0;return!1}(e)&&function(n,o){o===void 0&&(o="push"),S&&S[o]?S[o](n):typeof history<"u"&&history[o+"State"]&&history[o+"State"](null,null,n)}(e,t?"replace":"push"),vt(e)}function vt(e){for(var t=!1,n=0;n<x.length;n++)x[n].routeTo(e)&&(t=!0);return t}function zt(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return Bt(t)}}function jt(e){return e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),!1}function yt(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button)){var t=e.target;do if(t.localName==="a"&&t.getAttribute("href")){if(t.hasAttribute("data-native")||t.hasAttribute("native"))return;if(zt(t))return jt(e)}while(t=t.parentNode)}}var $e=!1;function Et(e){e.history&&(S=e.history),this.state={url:e.url||Ce()}}H(Et.prototype=new P,{shouldComponentUpdate:function(e){return e.static!==!0||e.url!==this.props.url||e.onChange!==this.props.onChange},canRoute:function(e){var t=ue(this.props.children);return this.g(t,e)!==void 0},routeTo:function(e){this.setState({url:e});var t=this.canRoute(e);return this.p||this.forceUpdate(),t},componentWillMount:function(){this.p=!0},componentDidMount:function(){var e=this;$e||($e=!0,S||addEventListener("popstate",function(){vt(Ce())}),addEventListener("click",yt)),x.push(this),S&&(this.u=S.listen(function(t){var n=t.location||t;e.routeTo(""+(n.pathname||"")+(n.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),x.splice(x.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(e,t){e=e.filter(Gt).sort(Ht);for(var n=0;n<e.length;n++){var o=e[n],s=Dt(t,o.props.path,o.props);if(s)return[o,s]}},render:function(e,t){var n,o,s=e.onChange,i=t.url,a=this.c,l=this.g(ue(e.children),i);if(l&&(o=Nt(l[0],H(H({url:i,matches:n=l[1]},n),{key:void 0,ref:void 0}))),i!==(a&&a.url)){H(gt,a=this.c={url:i,previous:a&&a.url,current:o,path:o?o.props.path:null,matches:n}),a.router=this,a.active=o?[o]:[];for(var u=Ue.length;u--;)Ue[u]({});typeof s=="function"&&s(a)}return m(Kt.Provider,{value:a},o)}});var fe=function(e){return m("a",H({onClick:yt},e))},ae=function(e){return m(e.component,e)};const qt="modulepreload",Vt=function(e,t){return new URL(e,t).href},De={},Yt=function(t,n,o){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.all(n.map(u=>{if(u=Vt(u,o),u in De)return;De[u]=!0;const h=u.endsWith(".css"),r=h?'[rel="stylesheet"]':"";if(!!o)for(let c=i.length-1;c>=0;c--){const _=i[c];if(_.href===u&&(!h||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${r}`))return;const d=document.createElement("link");if(d.rel=h?"stylesheet":qt,h||(d.as="script",d.crossOrigin=""),d.href=u,l&&d.setAttribute("nonce",l),document.head.appendChild(d),h)return new Promise((c,_)=>{d.addEventListener("load",c),d.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}return s.then(()=>t()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},Wt=[{name:"English",code:"en",icon:""},{name:"French",code:"fr",icon:""},{name:"German",code:"de",icon:""},{name:"Chinese",code:"zh",icon:""},{name:"Arabic",code:"ar",icon:""},{name:"Breton",code:"br",icon:""},{name:"Catalan",code:"ca",icon:""},{name:"Czech",code:"cs",icon:""},{name:"Esperanto",code:"eo",icon:""},{name:"Spanish",code:"es",icon:""},{name:"Farsi",code:"fa",icon:""},{name:"Hindi",code:"hi",icon:""},{name:"Italian",code:"it",icon:""},{name:"Japanese",code:"ja",icon:""},{name:"Kazakh",code:"kk",icon:""},{name:"Korean",code:"ko",icon:""},{name:"Dutch",code:"nl",icon:""},{name:"Polish",code:"pl",icon:""},{name:"Portuguese",code:"pt",icon:""},{name:"Russian",code:"ru",icon:""},{name:"Turkish",code:"tr",icon:""},{name:"Ukrainian",code:"uk",icon:""},{name:"Uzbek",code:"uz",icon:""},{name:"Vietnamese",code:"vi",icon:""}];class Jt{async getStream(t){return navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,channelCount:1,sampleRate:t}})}}class Xt{constructor(t){this.source=t??new Jt}async getMicStream(t){return this.source.getStream(t)}}var Qt=new Xt;class Zt{constructor(t){typeof t=="string"?this.sourceElement=document.querySelector(t):this.sourceElement=t}async getStream(){var t,n,o,s;return((n=(t=this.sourceElement)==null?void 0:t.captureStream)==null?void 0:n.call(t))??((s=(o=this.sourceElement)==null?void 0:o.mozCaptureStream)==null?void 0:s.call(o))}}class He{constructor(t){this.element=t}addCaption(t,n,o,s){let i=this.element.addTextTrack("captions",t,n);i.mode="showing",this.track=i,this.addText(0,s??2,o??"Captioned by voice2text!")}addText(t,n,o){this.lastCue&&this.track.removeCue(this.lastCue),this.lastCue=new VTTCue(t,n,o),this.track.addCue(this.lastCue)}clearCaption(){try{this.lastCue&&this.track.removeCue(this.lastCue)}catch{}}}function Ge(e,t){e.stream=t;const n=e.audioContext.createMediaStreamSource(t);if(e.audioSource=n,!e.processor){const o=e.audioContext.createScriptProcessor(1024,1,1);o.onaudioprocess=s=>{try{e.recognizer.acceptWaveform(s.inputBuffer)}catch(i){console.error("acceptWaveform failed",i)}},o.connect(e.audioContext.destination),e.processor=o}n.connect(e.processor),e==null||e.audioContext.resume()}class en{constructor(t){this.language=void 0,this.models={en:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-en-us-0.15.zip",zh:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-cn-0.22.zip",ru:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-ru-0.22.zip",fr:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-fr-0.22.zip",de:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-de-zamia-0.3.zip",es:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-es-0.42.zip",pt:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-pt-0.3.zip",tr:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-tr-0.3.zip",vi:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-vn-0.4.zip",it:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-it-0.22.zip",nl:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-nl-0.22.zip",ca:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-ca-0.4.zip",ar:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-ar-mgb2-0.4.zip",uk:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-uk-v3-nano.zip",kk:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-kz-0.15.zip",ja:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-ja-0.22.zip",eo:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-eo-0.42.zip",hi:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-hi-0.22.zip",cs:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-cs-0.4-rhasspy.zip",pl:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-pl-0.22.zip",uz:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-uz-0.22.zip",ko:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-ko-0.22.zip",br:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-br-0.8.zip",fa:"https://voice2text-proxy.mehdiabdi.com/vosk/models/vosk-model-small-fa-0.4.zip"},this.languages=Wt.filter(n=>{var o;return((o=this.models)==null?void 0:o[n.code])&&n}),this.id=t==null?void 0:t.id,this.language=t==null?void 0:t.language,this.modelUrl=t==null?void 0:t.modelUrl,this.sampleRate=(t==null?void 0:t.sampleRate)??16e3,this.status="OFF",this.source=!t.source||(t==null?void 0:t.source)==="microphone"?"microphone":t.source}async init(){try{if(!this.model&&!this.recognizer&&!this.audioContext){this.newEvent("STATUS","LOADING");const{createModel:t}=await Yt(async()=>{const{createModel:s}=await import("./vosk-JiUq2WHo.js");return{createModel:s}},[],import.meta.url),n=await t(this.language?this.models[this.language]:this.modelUrl);n.setLogLevel(-2);const o=new n.KaldiRecognizer(this.sampleRate);this.model=n,this.recognizer=o,o.on("result",s=>{const i=s.result.text;i&&(this.result=i,this.newEvent("FINAL",i))}),o.on("partialresult",s=>{const i=s.result.partial;i&&this.partialResult!==i&&(this.partialResult=i,this.newEvent("PARTIAL",i))}),this.audioContext=new AudioContext,n&&this.newEvent("STATUS","LOADED")}return!0}catch(t){return console.error(t),!1}}async start(){var t,n;if(this.status==="OFF")await this.init();else if(this.status==="LOADING"){this.delayedStart=!0;try{this.caption=new He(this.source),this.caption.addCaption(`${((t=this.language)==null?void 0:t.toUpperCase())??"ENGLISH"}-voice2text`,this.language??"en","Loading voice2text...",(n=this.source)==null?void 0:n.duration)}catch(o){console.log(o)}return}if(this.status==="LOADED"||this.status==="PAUSED"){const o=this.sampleRate;if(this.source==="microphone")Qt.getMicStream(o).then(s=>Ge(this,s));else{this.caption||(this.caption=new He(this.source));const i=await new Zt(this.source).getStream();Ge(this,i)}this.newEvent("STATUS","STARTED")}}pause(){var t,n;(n=(t=this==null?void 0:this.audioContext)==null?void 0:t.suspend)==null||n.call(t).then(()=>{this.stream.getAudioTracks()[0].stop(),this.audioSource.disconnect(this.processor),this.newEvent("STATUS","PAUSED")})}stop(){var t,n;this.audioContext&&((n=(t=this==null?void 0:this.audioContext)==null?void 0:t.close)==null||n.call(t).then(()=>{this.stream.getAudioTracks()[0].stop(),this.model.terminate(),this.newEvent("STATUS","OFF"),this.model=void 0,this.recognizer=void 0,this.audioContext=void 0,this.audioSource=void 0,this.processor=void 0,this.stream=void 0}))}setLanguage(t){this.stop(),this.language=t==null?void 0:t.language}newEvent(t,n){var s,i;t==="STATUS"&&(this.status=n);const o=new CustomEvent("voice",{detail:{text:n,type:t,id:this.id}});window.dispatchEvent(o),t==="STATUS"&&n==="LOADED"&&(this!=null&&this.delayedStart)&&this.start(),this.source!=="microphone"&&(n==="STARTED"?!this.caption.track&&this.caption.addCaption(`${((s=this.language)==null?void 0:s.toUpperCase())??"ENGLISH"}-voice2text`,this.language??"en"):(t==="PARTIAL"||t==="FINAL")&&this.caption.addText(0,(i=this.source)==null?void 0:i.duration,n))}async trackFetchProgress(t,n,o=1500){const s=t.body.getReader(),i=+t.headers.get("Content-Length");let a=0,l=0,u;u=setInterval(()=>{s.read().then(({done:h,value:r})=>{if(h){clearInterval(u);return}a+=r.length,l!==parseInt((a/i*100).toFixed(0))&&(l=parseInt((a/i*100).toFixed(0)),n(l))})},o)}}class tn{constructor(t){this.id=(t==null?void 0:t.id)??crypto.getRandomValues(new Uint8Array(16)).toString().replace(/,/g,""),typeof t.source=="string"&&t.source!=="microphone"?this.source=document.querySelector(t.source):this.source=t.source,!(t!=null&&t.converter)||(t==null?void 0:t.converter)==="vosk"?this.converter=new en({id:this.id,converter:t==null?void 0:t.converter,language:t==null?void 0:t.language,modelUrl:t==null?void 0:t.modelUrl,sampleRate:t==null?void 0:t.sampleRate,source:this.source}):alert("Invalid Converter!"),this.source!=="microphone"&&this.source&&(this.source.addEventListener("play",n=>{this.start()}),this.source.addEventListener("pause",n=>{this.pause()}))}async init(){return this.converter.init()}async start(){return this.converter.start()}stop(){return this.converter.stop()}pause(){return this.converter.pause()}setLanguage(t){return this.converter.setLanguage(t)}}var Fe;(function(e){e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(Fe||(Fe={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Pe||(Pe={}));var Ke;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Ke||(Ke={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be=["user","model","function","system"];var U;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(U||(U={}));var $;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})($||($={}));var ze;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(ze||(ze={}));var je;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(je||(je={}));var K;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER"})(K||(K={}));var qe;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(qe||(qe={}));var Ve;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Ve||(Ve={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class L extends A{constructor(t,n){super(t),this.response=n}}class Ct extends A{constructor(t,n,o,s){super(t),this.status=n,this.statusText=o,this.errorDetails=s}}class N extends A{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="https://generativelanguage.googleapis.com",on="v1beta",sn="0.16.0",rn="genai-js";var b;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(b||(b={}));class an{constructor(t,n,o,s,i){this.model=t,this.task=n,this.apiKey=o,this.stream=s,this.requestOptions=i}toString(){var t,n;const o=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||on;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||nn}/${o}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function cn(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${rn}/${sn}`),t.join(" ")}async function ln(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",cn(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let o=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(s){throw new N(`unable to convert customHeaders value ${JSON.stringify(o)} to Headers: ${s.message}`)}for(const[s,i]of o.entries()){if(s==="x-goog-api-key")throw new N(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new N(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function un(e,t,n,o,s,i){const a=new an(e,t,n,o,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},fn(i)),{method:"POST",headers:await ln(a),body:s})}}async function V(e,t,n,o,s,i={},a=fetch){const{url:l,fetchOptions:u}=await un(e,t,n,o,s,i);return dn(l,u,a)}async function dn(e,t,n=fetch){let o;try{o=await n(e,t)}catch(s){_n(s,e)}return o.ok||await hn(o,e),o}function _n(e,t){let n=e;throw e instanceof Ct||e instanceof N||(n=new A(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function hn(e,t){let n="",o;try{const s=await e.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,o=s.error.details)}catch{}throw new Ct(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,o)}function fn(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Q(e.candidates[0]))throw new L(`${k(e)}`,e);return pn(e)}else if(e.promptFeedback)throw new L(`Text not available. ${k(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Q(e.candidates[0]))throw new L(`${k(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Ye(e)[0]}else if(e.promptFeedback)throw new L(`Function call not available. ${k(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Q(e.candidates[0]))throw new L(`${k(e)}`,e);return Ye(e)}else if(e.promptFeedback)throw new L(`Function call not available. ${k(e)}`,e)},e}function pn(e){var t,n,o,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const a of(s=(o=e.candidates)===null||o===void 0?void 0:o[0].content)===null||s===void 0?void 0:s.parts)a.text&&i.push(a.text),a.executableCode&&i.push("\n```python\n"+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&i.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function Ye(e){var t,n,o,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const a of(s=(o=e.candidates)===null||o===void 0?void 0:o[0].content)===null||s===void 0?void 0:s.parts)a.functionCall&&i.push(a.functionCall);if(i.length>0)return i}const mn=[K.RECITATION,K.SAFETY,K.LANGUAGE];function Q(e){return!!e.finishReason&&mn.includes(e.finishReason)}function k(e){var t,n,o;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((o=e.candidates)===null||o===void 0)&&o[0]){const i=e.candidates[0];Q(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function B(e){return this instanceof B?(this.v=e,this):new B(e)}function gn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(d){o[d]&&(s[d]=function(c){return new Promise(function(_,C){i.push([d,c,_,C])>1||l(d,c)})})}function l(d,c){try{u(o[d](c))}catch(_){f(i[0][3],_)}}function u(d){d.value instanceof B?Promise.resolve(d.value.v).then(h,r):f(i[0][2],d)}function h(d){l("next",d)}function r(d){l("throw",d)}function f(d,c){d(c),i.shift(),i.length&&l(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function vn(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Cn(t),[o,s]=n.tee();return{stream:En(o),response:yn(s)}}async function yn(e){const t=[],n=e.getReader();for(;;){const{done:o,value:s}=await n.read();if(o)return Ae(An(t));t.push(s)}}function En(e){return gn(this,arguments,function*(){const n=e.getReader();for(;;){const{value:o,done:s}=yield B(n.read());if(s)break;yield yield B(Ae(o))}})}function Cn(e){const t=e.getReader();return new ReadableStream({start(o){let s="";return i();function i(){return t.read().then(({value:a,done:l})=>{if(l){if(s.trim()){o.error(new A("Failed to parse stream"));return}o.close();return}s+=a;let u=s.match(We),h;for(;u;){try{h=JSON.parse(u[1])}catch{o.error(new A(`Error parsing JSON response: "${u[1]}"`));return}o.enqueue(h),s=s.substring(u[0].length),u=s.match(We)}return i()})}}})}function An(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const o of e){if(o.candidates)for(const s of o.candidates){const i=s.index;if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:s.index}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[]});const a={};for(const l of s.content.parts)l.text&&(a.text=l.text),l.functionCall&&(a.functionCall=l.functionCall),l.executableCode&&(a.executableCode=l.executableCode),l.codeExecutionResult&&(a.codeExecutionResult=l.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),n.candidates[i].content.parts.push(a)}}o.usageMetadata&&(n.usageMetadata=o.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function At(e,t,n,o){const s=await V(t,b.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),o);return vn(s)}async function St(e,t,n,o){const i=await(await V(t,b.GENERATE_CONTENT,e,!1,JSON.stringify(n),o)).json();return{response:Ae(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function z(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return Sn(t)}function Sn(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let o=!1,s=!1;for(const i of e)"functionResponse"in i?(n.parts.push(i),s=!0):(t.parts.push(i),o=!0);if(o&&s)throw new A("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!s)throw new A("No content is provided for sending chat message.");return o?t:n}function Rn(e,t){var n;let o={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new N("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=e.contents}else if(s)o=Object.assign(Object.assign({},o),e.generateContentRequest);else{const i=z(e);o.contents=[i]}return{generateContentRequest:o}}function Je(e){let t;return e.contents?t=e:t={contents:[z(e)]},e.systemInstruction&&(t.systemInstruction=Rt(e.systemInstruction)),t}function Tn(e){return typeof e=="string"||Array.isArray(e)?{content:z(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],On={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function In(e){let t=!1;for(const n of e){const{role:o,parts:s}=n;if(!t&&o!=="user")throw new A(`First content should be with role 'user', got ${o}`);if(!Be.includes(o))throw new A(`Each item should include role field. Got ${o} but valid roles are: ${JSON.stringify(Be)}`);if(!Array.isArray(s))throw new A("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new A("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of s)for(const u of Xe)u in l&&(i[u]+=1);const a=On[o];for(const l of Xe)if(!a.includes(l)&&i[l]>0)throw new A(`Content with role '${o}' can't contain '${l}' part`);t=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="SILENT_ERROR";class kn{constructor(t,n,o,s={}){this.model=n,this.params=o,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,o!=null&&o.history&&(In(o.history),this._history=o.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var o,s,i,a,l,u;await this._sendPromise;const h=z(t),r={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,h]},f=Object.assign(Object.assign({},this._requestOptions),n);let d;return this._sendPromise=this._sendPromise.then(()=>St(this._apiKey,this.model,r,f)).then(c=>{var _;if(c.response.candidates&&c.response.candidates.length>0){this._history.push(h);const C=Object.assign({parts:[],role:"model"},(_=c.response.candidates)===null||_===void 0?void 0:_[0].content);this._history.push(C)}else{const C=k(c.response);C&&console.warn(`sendMessage() was unsuccessful. ${C}. Inspect response object for details.`)}d=c}),await this._sendPromise,d}async sendMessageStream(t,n={}){var o,s,i,a,l,u;await this._sendPromise;const h=z(t),r={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,h]},f=Object.assign(Object.assign({},this._requestOptions),n),d=At(this._apiKey,this.model,r,f);return this._sendPromise=this._sendPromise.then(()=>d).catch(c=>{throw new Error(Qe)}).then(c=>c.response).then(c=>{if(c.candidates&&c.candidates.length>0){this._history.push(h);const _=Object.assign({},c.candidates[0].content);_.role||(_.role="model"),this._history.push(_)}else{const _=k(c);_&&console.warn(`sendMessageStream() was unsuccessful. ${_}. Inspect response object for details.`)}}).catch(c=>{c.message!==Qe&&console.error(c)}),d}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xn(e,t,n,o){return(await V(t,b.COUNT_TOKENS,e,!1,JSON.stringify(n),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nn(e,t,n,o){return(await V(t,b.EMBED_CONTENT,e,!1,JSON.stringify(n),o)).json()}async function bn(e,t,n,o){const s=n.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await V(t,b.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,n,o={}){this.apiKey=t,this._requestOptions=o,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Rt(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var o;const s=Je(t),i=Object.assign(Object.assign({},this._requestOptions),n);return St(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},s),i)}async generateContentStream(t,n={}){var o;const s=Je(t),i=Object.assign(Object.assign({},this._requestOptions),n);return At(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},s),i)}startChat(t){var n;return new kn(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this.requestOptions)}async countTokens(t,n={}){const o=Rn(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return xn(this.apiKey,this.model,o,s)}async embedContent(t,n={}){const o=Tn(t),s=Object.assign(Object.assign({},this._requestOptions),n);return Nn(this.apiKey,this.model,o,s)}async batchEmbedContents(t,n={}){const o=Object.assign(Object.assign({},this._requestOptions),n);return bn(this.apiKey,this.model,t,o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new A("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Ze(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n){if(!t.name)throw new N("Cached content must contain a `name` field.");if(!t.model)throw new N("Cached content must contain a `model` field.");const o={model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t};return new Ze(this.apiKey,o,n)}}const Ln="gemini-1.5-pro";async function Mn(e,t){const o=new wn(t).getGenerativeModel({model:Ln}),s={temperature:.9,topK:1,topP:1,maxOutputTokens:2048},i=[{category:U.HARM_CATEGORY_HARASSMENT,threshold:$.BLOCK_NONE},{category:U.HARM_CATEGORY_HATE_SPEECH,threshold:$.BLOCK_NONE},{category:U.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:$.BLOCK_NONE},{category:U.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:$.BLOCK_NONE}],u=(await o.startChat({generationConfig:s,safetySettings:i}).sendMessage(e)).response;return console.log(u.text()),u.text()}function Un(e){const[t,n]=O("Extract a TODO list from the provided transcript."),[o,s]=O(""),[i,a]=O("AIzaSyAFlr_X8A308SRb8Gm3La9Y59ElQVUk0sY"),[l,u]=O(5e3),[h,r]=O(!1),f=de(e.transcript),d=de(l);M(()=>{f.current=e.transcript},[e.transcript]),M(()=>{d.current=l},[l]),M(()=>{const v=setInterval(()=>{y(),console.log("gap:",d.current),console.log("transcript:",f.current),console.log("isOn:",h)},d.current);if(console.log("timer created",v,f.current),h)return console.log("timer started",v,f.current),()=>clearInterval(v);clearInterval(v),console.log("timer cleared",v,f.current)},[h]),M(()=>{console.log("inputText",t)},[t]),M(()=>{console.log("apiKey",i)},[i]);const c=v=>{const T=v.currentTarget.value;n(T),r(!1)},_=v=>{const T=v.currentTarget.value;a(T),r(!1)},C=v=>{const T=parseInt(v.currentTarget.value)*1e3;u(T),r(!1)},g=()=>{r(!h)},y=async()=>{if(console.log("handleSubmit",t,i,l,h,f.current),t&&i&&l&&h){const v=await Mn(f.current+`
`+t,i);s(v)}};return m("div",null,m("input",{type:"text",placeholder:"Enter your message",value:t,onInput:c}),m("input",{type:"text",placeholder:"Enter your API key",value:i,onInput:_}),m("input",{type:"number",placeholder:"Input gap in seconds",value:l/1e3,onInput:C}),m("button",{onClick:g},h?"Turn Off":"Turn On"),m("textarea",{readOnly:!0,placeholder:"Output will appear here",value:o}))}const et="voice";function tt(){const[e,t]=O(""),[n,o]=O(""),[s,i]=O(""),[a,l]=O(""),[u,h]=O(!1),r=de(null);return M(()=>{r.current=new tn({converter:"vosk",language:"en",sampleRate:16e3});const d=c=>{switch(c.detail.type){case"PARTIAL":i(c.detail.text);break;case"FINAL":o(_=>c.detail.text+`
`+_),t(_=>_+`
`+c.detail.text),i("");break;case"STATUS":l(c.detail.text);break}};return window.addEventListener(et,d),()=>{window.removeEventListener(et,d),r.current&&r.current.stop()}},[]),m("div",{className:"voice-transcription"},m("h1",{className:"title"},"Voice Transcription"),m("button",{className:`toggle-button ${u?"listening":""}`,onClick:async()=>{if(r.current)try{u?r.current.stop():await r.current.start(),h(!u)}catch(d){console.error("Error toggling listening state:",d),l("Error: Failed to toggle listening state")}else l("Error: Voice recognition not initialized")}},u?"Stop Listening":"Start Listening"),m("p",{className:"status"},"Status: ",a),m(Un,{transcript:e}),m("div",{className:"transcript-container"},m("h2",{className:"subtitle"},"Transcript:"),s&&m("p",{className:"partial-transcript"},s),m("p",{className:"transcript"},n)))}function $n(){return m("div",{className:"app"},m("nav",{className:"navbar"},m(fe,{href:"/",className:"nav-link"},"Home"),m(fe,{href:"/voice",className:"nav-link"},"Voice Transcription")),m("main",{className:"main-content"},m(Et,null,m(ae,{path:"/",component:tt}),m(ae,{path:"/voice",component:tt}),m(ae,{path:"/about",component:Dn}))))}function Dn(){return m("div",{className:"home"},m("h1",{className:"title"},"EchoDelphi"),m("p",{className:"description"},"EchoDelphi is an application that summarizes a spoken language audio stream and makes a printed summary of it. As an example, the audio of a meeting can be transcribed in real-time, summarized and displayed on a monitor for the meeting participants to see a summary of their meeting so far. That way they can address missing items they still need to discuss."),m(fe,{href:"/voice",className:"cta-button"},"Start Transcribing"))}const pe=Symbol(),me=Symbol(),ge=Symbol(),Z=Symbol();function w(e,t){function n(...o){if(o.length>=e.length)return e(...o);{const s=(...i)=>n(...o,...i);return s[pe]=e,s[me]=n,s[ge]=o,s[Z]=n[Z],s}}return n[pe]=e,n[me]=n,n[ge]=[],n[Z]=t||Gn(e),n}function ce(e){return e[pe]}function Hn(e){return e[me]}function ve(e){return e[ge]||[]}function Gn(e){return e[Z]||e.name}class Fn extends Error{constructor(t){super("Expectation failed"),this.expectArgs=t}}const Pn=w(function(e,t){return e(t)},"which"),ee=w(function(e,t){var n,o;if(Kn(e))return e(t);if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((s,i)=>ee(e[i],t[i]));if(e instanceof Function&&t instanceof Function)return ce(e)&&ce(e)===ce(t)?ee(ve(e),ve(t)):e===t;if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString();if(e instanceof Set&&t instanceof Set)return e.size===t.size&&[...e.values()].every(s=>t.has(s));if(e instanceof Error&&t instanceof Error)return e.message===t.message&&e.__proto__.constructor===t.__proto__.constructor;if(nt(e)&&nt(t)){const s=Object.keys(e),i=Object.keys(t);return s.length===i.length&&s.every(a=>ee(e[a],t[a]))&&((n=e.__proto__)==null?void 0:n.constructor)===((o=t.__proto__)==null?void 0:o.constructor)}return e===t},"equals");w(function(e,t){return e===t},"is");w(function(e,t,...n){return!e(t,...n)},"not");w(function(e){return/^\s*$/.test(e)},"isBlank");function nt(e){return!!e&&typeof e=="object"}function Kn(e){return e instanceof Function&&Hn(e)===Pn&&ve(e).length===1}w(function(t,n){return n.slice(0,t.length)===t?n.slice(t.length):n});w(function(t,n){return n instanceof Fn&&ee(t,n.expectArgs)});xt(m($n,null),document.getElementById("app"));
